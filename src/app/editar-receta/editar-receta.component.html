<div class="container" style="margin-top:30px;">
  <div class="card" >
    <div class="row">
      <div class="col-sm-8 offset-sm-2">
        <div class="card-body">
          <h2>Editar Receta</h2>
          <form [formGroup]="recetaForm" (ngSubmit)="onSubmit()">
            <div>
              <label for="nombre">Nombre: </label>
              <input id="nombre" type="text" formControlName="nombre" />
            </div>
            <div>
              <label for="comensales">Número de comensales: </label>
              <input id="comensales" type="number" formControlName="comensales" min=1 max=100/>
            </div>
            <div>
              <label for="ingredientes">Ingredientes: </label>
              <div formArrayName="ingredientes" >
                <div *ngFor="let ing of ingredientes.controls; let i = index;">
                  <div [formGroupName]="i">
                    <input type="text" formControlName="ingrediente" placeholder="Ingrediente">
                    <input type="number" formControlName="cantidad" placeholder="Cantidad">
                    <input type="number" hidden formControlName="unidad">
                    <select name="unidades">
                      <option *ngFor="let unidad of unidadesData.values()" >
                        {{unidad}}
                      </option>
                    </select>

                    <button class="btn mce-btn-small" (click)="removeIngrediente(i)">
                      <span class="material-icons">
                        clear
                      </span>
                    </button>
                  </div>
                </div>
                <button class="btn btn-secondary">
                  Añadir ingrediente
                  <span class="icon material-icons">
                    add_circle
                  </span>
                </button>
              </div>
            </div>
            <div>
              <label for="pasos">Pasos: </label>
              <div formArrayName="pasos" >
                <div *ngFor="let ing of pasos.controls; let i = index;">
                  <div [formGroupName]="i">
                    <input type="text" formControlName="paso" placeholder="Instrucciones">
                    <button class="btn mce-btn-small" (click)="removePaso(i)">
                      <span class="material-icons">
                        clear
                      </span>
                    </button>
                  </div>
                </div>
                <button class="btn btn-secondary">
                  Añadir paso
                  <span class="icon material-icons">
                    add_circle
                  </span>
                </button>
              </div>
            </div>
            <div>
              <label for="alergenosData">Alérgenos: </label>
                <div class="row">
                  <select name="alergenos"  [multiple]="true" placeholder="Choose your option" label="Example label">
                    <option *ngFor="let type of alergenosData">
                      {{type}}
                    </option>
                  </select>
                </div>
                <div formArrayName="alergenos" >
                  <div *ngFor="let ing of alergenos.controls; let i = index;">
                    <div [formGroupName]="i">
                      <input type="text" formControlName="alergeno" placeholder="alergeno">
                      <button class="btn mce-btn-small" (click)="removeAlergeno(i)">
                        <span class="material-icons">
                          clear
                        </span>
                      </button>
                    </div>
                  </div>
                </div>

            </div>
            <div>
              <label for="imagen">Foto: </label>
              <input id="imagen" type="image" formControlName="imagen" />
            </div>
          </form>
          <button class="btn btn-primary" (click)="onSubmit()">
            Guardar receta
          </button>
        </div>
      </div>
    </div>
  </div>
  <div>
    <button class="btn btn-secondary" style="margin-top: 20px;" [routerLink]="['/recetas']">Volver</button>
  </div>

</div>

